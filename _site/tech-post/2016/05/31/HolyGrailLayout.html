<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="baidu-site-verification" content="3EBiLq4RXv" />
    <meta name="keywords" content="周吉昊, ZhouJihao, zhoujihao, blog, jihao'sblog, 前端开发, 个人博客"/>
    <meta name="description" content="圣杯布局要求三列布局，中间宽度自适应，两边定宽，这样做的优势是重要的东西放在文档流前面可以优先渲染..."/>
    <link rel="shortcut icon" href="/imgs/favicon.ico"/>
    <!--Bootstrap And Octicons-->
    <link rel="stylesheet" href="/lib/bootstrap-3.3.5-dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/lib/octicons/octicons.css" />
    <link rel="stylesheet" type="text/css" href="/lib/animate.css" />

    
        <link rel="stylesheet" href="/css/site_base.css"/>
        
            <link rel="stylesheet" href="/css/highlight.css"/>
        
            <link rel="stylesheet" href="/css/post.css"/>
        
    
    <title>圣杯布局和双飞翼布局</title>
</head>

<body>
	<div class="container-fluid" id="default-wrapper">
		
<!--Blog Header-->
<div class="container-fluid">
    <!-- <div class="row">
        <div class="alert alert-info" role="alert" style="border-radius: 0; text-align: center; text-decoration: underline; margin: 0; border: solid 2px gray;">
            <h4>Blog Is Under Developing</h4>
        </div>
    </div> -->
    <div class="row">
        <div id="index-header">

            <h1 class="animated flipInX">
                <img id="logo" src="/build/imgs/logo.png" alt=""/>
                Jihao's Blog
            </h1>
            <h4 id="motto">
                <span><b>Never let it go</b></span>
            </h4>
        </div>
    </div>
    <div class="row" id="index-nav">
        <ul>
            <li>
                <a href="/">
                    <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
                    &nbsp;&nbsp;Home
                </a>
            </li>
            <li>
                <a href="/pages/tech-notes.html">
                    <span class="glyphicon glyphicon-ice-lolly-tasted" aria-hidden="true"></span>
                    &nbsp;&nbsp;Tech Posts
                </a>
            </li>
            <li>
                <a href="/pages/essay.html">
                    <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
                    &nbsp;&nbsp;Essay
                </a>
            </li>
            <li>
                <a href="/pages/about.html">
                    <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
                    &nbsp;&nbsp;About
                </a>
            </li>
        </ul>
        <span id="nav-indicator"></span>
    </div>
</div>

		<div class="row" id="post-wrapper">
    <div id="post-body">
        <div class="post">
            <div class="header">
                <h2>圣杯布局和双飞翼布局</h2>
                <p class="post-meta">
                    <span class="octicon octicon-clock"></span>
                        May 31, 2016
                        
                        
                </p>
                <p class="post-tag">
                    <span>
                        
                        <a href="javascript:void(0)">
                            <span class="octicon octicon-list-unordered"></span>
                            tech-post
                        </a>
                        
                    </span>
                    <span>
                        
                        <a href="javascript:void(0)">
                            <span class="octicon octicon-tag"></span>
                            css
                        </a>
                        
                    </span>
                </p>
            </div>
            <hr class="boundary">
            <article>
                <h2 id="section">圣杯布局 !</h2>

<p>圣杯布局要求三列布局，中间宽度自适应，两边定宽，这样做的优势是重要的东西放在文档流前面可以优先渲染。<br />
现在设左侧宽度为100px，右侧为200px，下面是两种实现方式：</p>

<h3 id="section-1">传统实现</h3>
<p>DOM结构如下所示：</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"header"</span><span class="nt">&gt;</span>Header<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"body-wrap"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"center column"</span><span class="nt">&gt;</span>Center<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"left column"</span><span class="nt">&gt;</span>Left<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"right column"</span><span class="nt">&gt;</span>Center<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"footer"</span><span class="nt">&gt;</span>Footer<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>
<p>CSS样式如下：</p>

<div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="c">/*由于中间center层是流式的，当窗口大小缩小到Lwidth+Rwidth的时候，center就没有了，所以应该给#container设置一个最小宽度*/</span>
    <span class="nl">min-width</span><span class="p">:</span> <span class="m">400px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.header</span><span class="o">,</span> <span class="nc">.footer</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">clear</span><span class="p">:</span> <span class="nb">both</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#dbd9d7</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.body-wrap</span> <span class="p">{</span>
    <span class="nl">padding-left</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
    <span class="nl">padding-right</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
    <span class="nl">box-sizing</span><span class="p">:</span> <span class="n">border-box</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/*三列均向左浮动，中间宽度定为100%，左右两侧利用负边距分别定位到左右两侧*/</span>
<span class="nc">.center</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#b3d1c1</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.left</span> <span class="p">{</span>
    <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
    <span class="nl">margin-left</span><span class="p">:</span> <span class="m">-100%</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
    <span class="nl">right</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#e57b85</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.right</span> <span class="p">{</span>
    <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
    <span class="nl">margin-left</span><span class="p">:</span> <span class="m">-200px</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#f1ff2d</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>
<p>实现效果如下：</p>

<p><img src="/imgs/tech_post/HolyGrail.png" alt="HolyGrailLayout" /></p>

<h3 id="flex">Flex实现</h3>

<div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.header</span><span class="o">,</span> <span class="nc">.footer</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#dbd9b7</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.body-wrap</span> <span class="p">{</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-flex</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">-moz-flex</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">-ms-flex</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">-o-flex</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">flex-flow</span><span class="p">:</span> <span class="n">row</span> <span class="nb">nowrap</span><span class="p">;</span>
    <span class="nl">box-sizing</span><span class="p">:</span> <span class="n">border-box</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/*item的flex属性是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto*/</span>
<span class="nc">.center</span> <span class="p">{</span>
    <span class="nl">order</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span> <span class="c">/* order定义item在主轴上的排序*/</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#e57b85</span><span class="p">;</span>
    <span class="nl">flex</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span> <span class="c">/*auto即 1 1 auto，表示具有伸缩性，宽度自适应*/</span>
<span class="p">}</span>
<span class="nc">.left</span> <span class="p">{</span>
    <span class="nl">order</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#f1ff2d</span><span class="p">;</span>
    <span class="nl">flex</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">100px</span><span class="p">;</span> <span class="c">/* 0 0 size 表示不具有伸缩性，宽度为固定size */</span>
<span class="p">}</span>
<span class="nc">.right</span> <span class="p">{</span>
    <span class="nl">order</span><span class="p">:</span> <span class="m">2</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#b3d1c1</span><span class="p">;</span>
    <span class="nl">flex</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">200px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="section-2">双飞翼布局 !</h2>

<p>在不增加额外标签的情况下，圣杯布局已经非常完美，圣杯布局使用了相对定位，以后布局是有局限性的，而且宽度控制要改的地方也多，那么有没其他方法更加简洁方便呢？</p>

<p>在淘宝UED探讨下，增加多一个div就可以不用相对布局了，只用到了浮动和负边距，这就是我们所说的双飞翼布局。</p>

<p>DOM结构：center内层增加了一个div(.inner)</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Document<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"./main.css"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h3&gt;</span>Holy Grail Layout<span class="nt">&lt;/h3&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"header"</span><span class="nt">&gt;</span>Header<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"body-wrap"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"center"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"inner"</span><span class="nt">&gt;</span>Center<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"left"</span><span class="nt">&gt;</span>Left<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"right"</span><span class="nt">&gt;</span>Right<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"footer"</span><span class="nt">&gt;</span>Footer<span class="nt">&lt;/div&gt;&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p>样式：去掉了左右栏的相对定位，去掉包裹层padding，以中间栏新增div的margin代替</p>

<div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="c">/*由于中间center层是流式的，当窗口大小缩小到Lwidth+Rwidth的时候，center就没有了，所以应该给#container设置一个最小宽度*/</span>
    <span class="nl">min-width</span><span class="p">:</span> <span class="m">400px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.header</span><span class="o">,</span> <span class="nc">.footer</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">clear</span><span class="p">:</span> <span class="nb">both</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#dbd9d7</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.body-wrap</span> <span class="p">{</span>
    <span class="c">/*padding-left: 100px;
    padding-right: 200px;*/</span>
    <span class="nl">box-sizing</span><span class="p">:</span> <span class="n">border-box</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/*三列均向左浮动，中间宽度定为100%，左右两侧利用负边距分别定位到左右两侧*/</span>
<span class="nc">.center</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#b3d1c1</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.center</span> <span class="nc">.inner</span> <span class="p">{</span>
    <span class="nl">margin-left</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
    <span class="nl">margin-right</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.left</span> <span class="p">{</span>
    <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
    <span class="nl">margin-left</span><span class="p">:</span> <span class="m">-100%</span><span class="p">;</span>
    <span class="c">/*position: relative;
    right: 100px;*/</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#e57b85</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.right</span> <span class="p">{</span>
    <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
    <span class="nl">margin-left</span><span class="p">:</span> <span class="m">-200px</span><span class="p">;</span>
    <span class="c">/*position: relative;
    left: 200px;*/</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#f1ff2d</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

            </article>
            <hr class="boundary">
        </div>

        <p class="post-copyright">
            本文的版权归作者
            <a href="http://warpprism.github.io">ZhouJihao</a>
            所有，采用
            <a href="http://creativecommons.org/licenses/by-nc/3.0/">Attribution-NonCommercial 3.0 License</a>。
            任何人可以进行转载、分享，但不可在未经允许的情况下用于商业用途；转载请注明出处。感谢配合！
        </p>


        <h2 class="guest-op">
            <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
            &nbsp;Share This Post
        </h2>

        <div class="ds-share flat" data-thread-key="/tech-post/2016/05/31/HolyGrailLayout" data-title="圣杯布局和双飞翼布局" data-images="http://warpprism.github.io/imgs/show4.jpg" data-content="圣杯布局要求三列布局，中间宽度自适应，两边定宽，这样做的优势是重要的东西放在文档流前面可以优先渲染........." data-url="http://warpprism.github.io/tech-post/2016/05/31/HolyGrailLayout.html">
            <div class="ds-share-inline">
                <ul class="ds-share-icons-16">
                    <li data-toggle="ds-share-icons-more">
                        <a class="ds-more" href="javascript:void(0);">分享到：</a>
                    </li>
                    <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
                    <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
                    <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
                    <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
                </ul>
                <div class="ds-share-icons-more">
                </div>
            </div>
        </div>

        <h2 class="guest-op">
            <span class="glyphicon glyphicon-comment" aria-hidden="true"></span>
            &nbsp;Leave A Comment
        </h2>

        <!-- 多说评论框 start -->
        <div class="ds-thread" data-thread-key="/tech-post/2016/05/31/HolyGrailLayout" data-title="圣杯布局和双飞翼布局" data-url="http://warpprism.github.io/tech-post/2016/05/31/HolyGrailLayout.html"></div>
        <!-- 多说评论框 end -->
        <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
        <script type="text/javascript">
            var duoshuoQuery = {short_name:"zhoujihao"};
            (function() {
                var ds = document.createElement('script');
                ds.type = 'text/javascript';ds.async = true;
                ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
                ds.charset = 'UTF-8';
                (document.getElementsByTagName('head')[0]
                || document.getElementsByTagName('body')[0]).appendChild(ds);
            })();
        </script>
        <!-- 多说公共JS代码 end -->

    </div>

    <!-- Return To Top -->
    <a id="top" href="#">
        <span class="glyphicon glyphicon-chevron-up icon" aria-hidden="true"></span>
        <span class="text">Top</span>
    </a>
</div>

		
<div class="container-fluid" id="footer-div">
    <div class="row">
        <div class="footer1">
            <a href="#" class="foot-item" role="button" data-toggle="modal" data-target=".email-modal">
                <span class="octicon octicon-mail"></span>
                <span>Email@me</span>
            </a>
            |
            <a class="foot-item" href="https://github.com/warpprism" target="_blank">
                <span class="octicon octicon-mark-github"></span>
                <span>My Github</span>
            </a>
            |
            <a class="foot-item" href="https://github.com/WarpPrism/WarpPrism.github.io" target="_blank">
                <span class="octicon octicon-heart"></span>
                <span>Download Theme</span>
            </a>
        </div>
    </div>
    <div class="row">
        <div class="footer2">
            <span>Copyright &copy; ZhouJihao</span>
            |
            <span>Powered By Jekyll</span>
        </div>
    </div>


    <div class="modal fade email-modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <b>
                        My Email Address
                    </b>
                </div>
                <div class="modal-body">
                    <b>249662605@qq.com</b>
                </div>
            </div>
        </div>
    </div>
</div>

	</div>
	<script type="text/javascript" src="/lib/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="/lib/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/build/js/main.js"></script>

    


</body>
</html>
