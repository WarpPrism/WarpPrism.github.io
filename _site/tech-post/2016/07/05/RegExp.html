<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="keywords" content="周吉昊, ZhouJihao, zhoujihao, blog, jihao'sblog, 前端开发, 个人博客"/>
    <meta name="description" content="正则表达式(regular expression)是对字符串操作的一种逻辑公式，就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，这个“规则字符串”用来表达对字符串的一种过滤逻辑。最近的六十年中，正则表达式逐渐从模糊而深奥的数学概念演变成为计算机技术森林中的一只形神美丽且声音动听的百灵鸟。在数以亿万计的各种应用软件中，我们都可以看到正则表达式优美的舞姿。"/>
    <link rel="shortcut icon" href="/favicon.ico"/>
    <!--Bootstrap And Octicons-->
    <link rel="stylesheet" href="/lib/bootstrap-3.3.5-dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/lib/octicons/octicons.css" />
    <link rel="stylesheet" type="text/css" href="/lib/animate.css" />

    
        <link rel="stylesheet" href="/build/css/site_base.css"/>
        
            <link rel="stylesheet" href="/build/css/highlight.css"/>
        
            <link rel="stylesheet" href="/build/css/post.css"/>
        
        <!--Google Analysis-->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-79596803-1', 'auto');
          ga('send', 'pageview');
        </script>
    
    <title>JavaScript正则攻略</title>
</head>

<body>
	<div class="container-fluid" id="site-wrapper">
		<div class="container-fluid">
  <div class="row">
    <div id="index-header">
      <h1 class="animated flipInX">
        <img id="logo" src="/build/imgs/logo.png" alt=""/>
        <span id="site-name">Jihao's Blog</span>
      </h1>
      <h4 id="motto"><span><b>Never let it go</b></span></h4>
    </div>
  </div>
  <div class="row" id="index-nav">
    <ul>
      <li>
        <a href="/">
          <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
          &nbsp;&nbsp;Home
        </a>
      </li>
      <li>
        <a href="/pages/tech-notes.html">
          <span class="glyphicon glyphicon-ice-lolly-tasted" aria-hidden="true"></span>
          &nbsp;&nbsp;Tech Posts
        </a>
      </li>
      <li>
        <a href="/pages/essay.html">
          <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
          &nbsp;&nbsp;Essay
        </a>
      </li>
      <li>
        <a href="/pages/about.html">
          <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
          &nbsp;&nbsp;About
        </a>
      </li>
    </ul>
    <span id="nav-indicator"></span>
  </div>
</div>

		<div class="row" id="post-wrapper">
  <div id="post-body">
    <div class="post">
      <div class="header">
        <h2>JavaScript正则攻略</h2>
        <p class="post-meta">
          <span class="octicon octicon-clock"></span>
            Jul 5, 2016
            
            
        </p>
        <div class="post-tag">
          <div>
            
            <a href="javascript:void(0)">
              <span class="octicon octicon-list-unordered"></span>
              tech-post
            </a>
            
          </div>
          <div>
            
            <a href="javascript:void(0)">
              <span class="octicon octicon-tag"></span>
              JavaScript
            </a>
            
            <a href="javascript:void(0)">
              <span class="octicon octicon-tag"></span>
              RegExp
            </a>
            
          </div>
        </div>
      </div>
      <hr class="boundary">
      <article>
        <blockquote>
  <p>正则表达式(regular expression)是对字符串操作的一种逻辑公式，就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，这个“规则字符串”用来表达对字符串的一种过滤逻辑。最近的六十年中，正则表达式逐渐从模糊而深奥的数学概念演变成为计算机技术森林中的一只形神美丽且声音动听的百灵鸟。在数以亿万计的各种应用软件中，我们都可以看到正则表达式优美的舞姿。</p>
</blockquote>

<h3 id="javascript-regexp">JavaScript RegExp对象</h3>
<p>RegExp是正则表达式的缩写,可以根据正则匹配模式(pattern) 通过new关键字来创建.<br />
创建语法:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">pattern</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">)</span>
</code></pre>
</div>

<p>attributes 可以取i(匹配时大小写不敏感), g(全剧匹配), m(多行匹配)</p>

<p>RegExp有三个方法,分别是:</p>

<ol>
  <li>RegExp.test(str), 检验str是否存在pattern定义的字符串,返回true和false</li>
  <li>RegExp.exec(str), 返回的是一个数组，形式为[匹配到的字符串，子串1， 子串2， ….]</li>
  <li>RegExp.compile(str), 该方法用于改变匹配模式</li>
</ol>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">pattern</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">"ain"</span><span class="p">,</span> <span class="s2">"g"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="s2">"The rain in Spain stays mainly in the plain"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">ignoreCase</span><span class="p">);</span> <span class="c1">// 看是否具有标志 i false</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">global</span><span class="p">);</span>  <span class="c1">// 看是否具有标志 g true</span>

<span class="c1">// 不具备标志g的pattern不能使用 lastIndex属性，该属性返回的是上次匹配到字符串</span>
<span class="c1">// 紧邻的下一个位置</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">global</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">));</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">lastIndex</span><span class="p">);</span> <span class="c1">// 8</span>
    <span class="nx">pattern</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">lastIndex</span><span class="p">);</span> <span class="c1">// 17</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">source</span><span class="p">);</span> <span class="c1">//ain</span>
</code></pre>
</div>

<h3 id="section">贪婪匹配和懒惰匹配</h3>
<p>贪婪匹配：在匹配过程中，匹配结果的长度越长越好。</p>

<p>懒惰匹配：与之相反</p>

<p>js中默认使用贪婪匹配，使用懒惰匹配需要限定符 ‘?’</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="s1">'hello world welcome to my world'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pattern1</span> <span class="o">=</span> <span class="sr">/hello.*world/</span><span class="p">;</span>  <span class="c1">//贪婪</span>
<span class="kd">var</span> <span class="nx">pattern2</span> <span class="o">=</span> <span class="sr">/hello.*</span><span class="se">?</span><span class="sr">world/</span><span class="p">;</span> <span class="c1">//懒惰</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern1</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">str</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern2</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">str</span><span class="p">));</span>
</code></pre>
</div>

<h3 id="section-1">常用正则格式</h3>
<ul>
  <li>[adgk]            查找括号内的任意字符</li>
  <li>[^adgk]           查找__非__括号内的任意字符</li>
  <li>.                 查找任意单个字符，除了换行和结束符</li>
  <li>n+                匹配至少1个或多个n的字符串</li>
  <li>n*                0个或多个</li>
  <li>n?                0个或1个</li>
  <li>n{X, Y}           匹配含有X～Y个n的序列的字符串</li>
  <li>n$                匹配以n结尾的字符串</li>
  <li>^n                匹配以n开头的字符串</li>
  <li>\d                查找数字</li>
  <li>\D                查找非数字字符</li>
  <li>\s                查找空白字符</li>
  <li>\S                查找非空白字符</li>
  <li>\w                查找单词字符</li>
  <li>\W                查找非单词字符</li>
</ul>

<h3 id="string">String对象中与正则有关的方法</h3>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">str</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="nb">RegExp</span> <span class="o">||</span> <span class="nx">substr</span><span class="p">)</span>
<span class="c1">// 返回第一个匹配子串的下标位置，若不存在，返回-1</span>
<span class="c1">// 同时忽略全局匹配标志g，但不会忽略i标志</span>

<span class="nx">str</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nb">RegExp</span> <span class="o">||</span> <span class="nx">substr</span><span class="p">)</span>
<span class="c1">// 返回值：数组或者null</span>
<span class="c1">// 如果RegExp存在标志g，则返回arr: [匹配的子串, 子表达式匹配的子串]</span>
<span class="c1">// 返回的数组还含有两个对象属性。index 属性声明的是匹配文本的起始字符</span>
<span class="c1">// 在stringObject中的位置，input属性声明的是对 stringObject 的引用。</span>

<span class="c1">// 不存在标志g，返回arr: [匹配结果1, 匹配结果2, 匹配结果3......]</span>

<span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nb">RegExp</span><span class="o">/</span><span class="nx">substr</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">)</span>
<span class="c1">// 用replacement替换匹配到的子串</span>
<span class="c1">// 没有g标志是，只替换第一个匹配结果</span>
<span class="c1">// replacement可以为字符串，也可以是函数</span>

<span class="nx">str</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">separator</span><span class="p">,</span> <span class="nx">howmany</span><span class="p">(</span><span class="nx">optional</span><span class="p">))</span>
<span class="c1">// separator 必需，正则或字符串</span>
<span class="c1">// 返回值是数组，即被separator分开的部分组成的数组，但不包括separator本身</span>
<span class="c1">// String.split() ~= Array.join()</span>
</code></pre>
</div>

<h3 id="section-2">常用的匹配模式</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>'正整数'            /^[1-9]\d*$/
'负整数'            /^-[1-9]\d*$/
'整数'              /^-?[1-9]\d*$/
'浮点数'            /^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$/
'非负浮点数'        /[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$/
'中文字符'          /[\u4e00-\u9fa5]/
'空白行'            /\n\s*\r/
'HTML标签'          /&lt;(\S*?)[^&gt;]*&gt;.*?&lt;/\1&gt;|&lt;.*? /&gt;/
'匹配首尾空白字符'  /^\s*|\s*$/
'Email'                             /\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/
'简单URL'                           /[a-zA-Z]+://[^\s]*/
'15位或18位身份证'                  /\d{15}|\d{18}/
'ip格式'                            /\d+\.\d+\.\d+\.\d/
'验证是否含有^%&amp;',;=?$\ "等字符'     /[^%&amp;',;=?$\x22]+/
</code></pre>
</div>

<p><a href="http://www.codefans.net/articles/915.shtml">更多匹配模式</a></p>

<h3 id="section-3">参考</h3>
<p><a href="http://www.php100.com/html/it/biancheng/2015/0320/8825.html">我所认识的JavaScript正则表达式</a></p>

      </article>
      <hr class="boundary">
    </div>

    <p class="post-copyright">
      本文的版权归作者
      <a href="http://warpprism.github.io">ZhouJihao</a>
      所有，采用
      <a href="http://creativecommons.org/licenses/by-nc/3.0/">Attribution-NonCommercial 3.0 License</a>。
      任何人可以进行转载、分享，但不可在未经允许的情况下用于商业用途；转载请注明出处。感谢配合！
    </p>


    <h2 class="guest-op">
      <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
      &nbsp;Share This Post
    </h2>

    <div class="ds-share flat" data-thread-key="/tech-post/2016/07/05/RegExp" data-title="JavaScript正则攻略" data-images="http://warpprism.github.io/imgs/show4.jpg" data-content="正则表达式(regular expression)是对字符串操作的一种逻辑公式，就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，这个“规则字符串”用来表达对字符串的一种过滤逻辑。最近的六十年中，正则表达式逐渐从模糊而深奥的数学概念演变成为计算机技术森林中的一只形神美丽且声音动听的百灵鸟。在数以亿万计的各种应用软件中，我们都可以看到正则表达式优美的舞姿。......" data-url="http://warpprism.github.io/tech-post/2016/07/05/RegExp.html">
      <div class="ds-share-inline">
        <ul class="ds-share-icons-16">
          <li data-toggle="ds-share-icons-more">
            <a class="ds-more" href="javascript:void(0);">分享到：</a>
          </li>
          <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
          <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
          <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
          <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
        </ul>
        <div class="ds-share-icons-more">
        </div>
      </div>
    </div>

    <h2 class="guest-op">
      <span class="glyphicon glyphicon-comment" aria-hidden="true"></span>
      &nbsp;Leave A Comment
    </h2>

    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="/tech-post/2016/07/05/RegExp" data-title="JavaScript正则攻略" data-url="http://warpprism.github.io/tech-post/2016/07/05/RegExp.html"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
      var duoshuoQuery = {short_name:"zhoujihao"};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
    </script>
    <!-- 多说公共JS代码 end -->

  </div>

  <!-- Return To Top -->
  <!-- <a id="top" href="#">
    <span class="glyphicon glyphicon-chevron-up icon" aria-hidden="true"></span>
    <span class="text">Top</span>
  </a> -->
</div>

		
<div class="container-fluid" id="footer-div">
    <div class="row">
        <div class="footer1">
            <a href="#" class="foot-item" role="button" data-toggle="modal" data-target=".email-modal">
                <span class="octicon octicon-mail"></span>
                <span>Email@me</span>
            </a>
            |
            <a class="foot-item" href="https://github.com/warpprism" target="_blank">
                <span class="octicon octicon-mark-github"></span>
                <span>My Github</span>
            </a>
            |
            <a class="foot-item" href="https://github.com/WarpPrism/WarpPrism.github.io" target="_blank">
                <span class="octicon octicon-heart"></span>
                <span>Download Theme</span>
            </a>
        </div>
    </div>
    <div class="row">
        <div class="footer2">
            <span>Copyright &copy; ZhouJihao</span>
            |
            <span>Powered By Jekyll</span>
        </div>
    </div>


    <div class="modal fade email-modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <b>
                        My Email Address
                    </b>
                </div>
                <div class="modal-body">
                    <b>249662605@qq.com</b>
                </div>
            </div>
        </div>
    </div>
</div>

	</div>
	<script type="text/javascript" src="/lib/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="/lib/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>


    
        <script type="text/javascript" src="/build/js/main.js"></script>
        <script type="text/javascript" src="/build/js/main.js"></script>
    


</body>
</html>
